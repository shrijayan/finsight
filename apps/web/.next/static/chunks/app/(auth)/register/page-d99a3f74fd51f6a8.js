(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{69940:function(e,r,a){Promise.resolve().then(a.bind(a,80952))},80952:function(e,r,a){"use strict";a.d(r,{RegistrationForm:function(){return f}});var s=a(27573),t=a(7653),i=a(48388),o=a(97818),n=a(86026),d=a(23005),l=a(47147),c=a(44669),m=a(33495);let u=n.Ry({name:n.Z_().min(2,"Name must be at least 2 characters"),email:n.Z_().email("Please enter a valid email address"),password:n.Z_().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:n.Z_()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),f=t.forwardRef((e,r)=>{let{className:a,onSuccess:n,onError:f,...p}=e,[g,h]=t.useState(!1),[w,x]=t.useState(null),[b,v]=t.useState(null),{register:y,handleSubmit:j,formState:{errors:N},reset:C}=(0,i.cI)({resolver:(0,o.F)(u)}),P=async e=>{try{h(!0),x(null),v(null);let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password})}),a=await r.json();if(!r.ok)throw Error(a.error||"Registration failed");v("Registration successful! Redirecting to login..."),null==n||n(a.message),C(),setTimeout(()=>{window.location.href="/login"},2e3)}catch(r){let e=r instanceof Error?r.message:"Registration failed";x(e),null==f||f(e)}finally{h(!1)}};return(0,s.jsx)("div",{ref:r,className:(0,m.cn)("grid gap-6",a),...p,children:(0,s.jsx)("form",{onSubmit:j(P),children:(0,s.jsxs)("div",{className:"grid gap-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"name",children:"Full Name"}),(0,s.jsx)(l.I,{id:"name",placeholder:"Enter your full name",type:"text",autoCapitalize:"words",autoComplete:"name",autoCorrect:"off",disabled:g,...y("name"),"aria-invalid":!!N.name,"aria-describedby":N.name?"name-error":void 0}),N.name&&(0,s.jsx)("p",{id:"name-error",className:"text-sm text-red-600",role:"alert",children:N.name.message})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,s.jsx)(l.I,{id:"email",placeholder:"Enter your email address",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",disabled:g,...y("email"),"aria-invalid":!!N.email,"aria-describedby":N.email?"email-error":void 0}),N.email&&(0,s.jsx)("p",{id:"email-error",className:"text-sm text-red-600",role:"alert",children:N.email.message})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"password",children:"Password"}),(0,s.jsx)(l.I,{id:"password",placeholder:"Create a password",type:"password",autoComplete:"new-password",disabled:g,...y("password"),"aria-invalid":!!N.password,"aria-describedby":N.password?"password-error":void 0}),N.password&&(0,s.jsx)("p",{id:"password-error",className:"text-sm text-red-600",role:"alert",children:N.password.message})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(c._,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,s.jsx)(l.I,{id:"confirmPassword",placeholder:"Confirm your password",type:"password",autoComplete:"new-password",disabled:g,...y("confirmPassword"),"aria-invalid":!!N.confirmPassword,"aria-describedby":N.confirmPassword?"confirm-password-error":void 0}),N.confirmPassword&&(0,s.jsx)("p",{id:"confirm-password-error",className:"text-sm text-red-600",role:"alert",children:N.confirmPassword.message})]}),w&&(0,s.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",role:"alert",children:w}),b&&(0,s.jsx)("div",{className:"text-sm text-green-600 bg-green-50 p-3 rounded-md",role:"alert",children:b}),(0,s.jsxs)(d.z,{disabled:g,className:"w-full",type:"submit",children:[g&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g?"Creating Account...":"Create Account"]})]})})})});f.displayName="RegistrationForm"},23005:function(e,r,a){"use strict";a.d(r,{z:function(){return l}});var s=a(27573),t=a(7653),i=a(91028),o=a(65517),n=a(33495);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=t.forwardRef((e,r)=>{let{className:a,variant:t,size:o,asChild:l=!1,...c}=e,m=l?i.g7:"button";return(0,s.jsx)(m,{className:(0,n.cn)(d({variant:t,size:o,className:a})),ref:r,...c})});l.displayName="Button"},47147:function(e,r,a){"use strict";a.d(r,{I:function(){return o}});var s=a(27573),t=a(7653),i=a(33495);let o=t.forwardRef((e,r)=>{let{className:a,type:t,...o}=e;return(0,s.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:r,...o})});o.displayName="Input"},44669:function(e,r,a){"use strict";a.d(r,{_:function(){return l}});var s=a(27573),t=a(7653),i=a(26202),o=a(65517),n=a(33495);let d=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=t.forwardRef((e,r)=>{let{className:a,...t}=e;return(0,s.jsx)(i.f,{ref:r,className:(0,n.cn)(d(),a),...t})});l.displayName=i.f.displayName},33495:function(e,r,a){"use strict";a.d(r,{cn:function(){return i}});var s=a(57908),t=a(66290);function i(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,t.m6)((0,s.W)(r))}}},function(e){e.O(0,[609,906,293,286,744],function(){return e(e.s=69940)}),_N_E=e.O()}]);