(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{43111:function(e,r,s){Promise.resolve().then(s.bind(s,56670))},56670:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return v}});var t=s(27573),a=s(87659),i=s(7653),n=s(67754),l=s(44251),d=s(48388),o=s(97818),c=s(86026),u=s(23005),m=s(47147),f=s(44669),x=s(33495);let p=c.Ry({email:c.Z_().email("Please enter a valid email address"),password:c.Z_().min(1,"Password is required")}),h=i.forwardRef((e,r)=>{let{className:s,onSuccess:a,onError:c,...h}=e,[g,b]=i.useState(!1),[v,y]=i.useState(null),w=(0,n.useRouter)(),{register:j,handleSubmit:N,formState:{errors:k}}=(0,d.cI)({resolver:(0,o.F)(p)}),S=async e=>{try{b(!0),y(null);let r=await (0,l.signIn)("credentials",{email:e.email,password:e.password,redirect:!1});if(null==r?void 0:r.error){let e="CredentialsSignin"===r.error?"Invalid email or password. Please try again.":r.error;y(e),null==c||c(e)}else null==a||a(),w.push("/")}catch(r){let e=r instanceof Error?r.message:"Login failed";y(e),null==c||c(e)}finally{b(!1)}};return(0,t.jsx)("div",{ref:r,className:(0,x.cn)("grid gap-6",s),...h,children:(0,t.jsx)("form",{onSubmit:N(S),children:(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(f._,{htmlFor:"email",children:"Email"}),(0,t.jsx)(m.I,{id:"email",placeholder:"Enter your email address",type:"email",autoCapitalize:"none",autoComplete:"email",autoCorrect:"off",disabled:g,...j("email"),"aria-invalid":!!k.email,"aria-describedby":k.email?"email-error":void 0}),k.email&&(0,t.jsx)("p",{id:"email-error",className:"text-sm text-red-600",role:"alert",children:k.email.message})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(f._,{htmlFor:"password",children:"Password"}),(0,t.jsx)(m.I,{id:"password",placeholder:"Enter your password",type:"password",autoComplete:"current-password",disabled:g,...j("password"),"aria-invalid":!!k.password,"aria-describedby":k.password?"password-error":void 0}),k.password&&(0,t.jsx)("p",{id:"password-error",className:"text-sm text-red-600",role:"alert",children:k.password.message})]}),v&&(0,t.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded-md",role:"alert",children:v}),(0,t.jsxs)(u.z,{disabled:g,className:"w-full",type:"submit",children:[g&&(0,t.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),g?"Signing In...":"Sign In"]})]})})})});h.displayName="LoginForm";var g=s(67899);function b(){let{data:e,status:r}=(0,l.useSession)(),s=(0,n.useRouter)(),d=(0,n.useSearchParams)(),[o,c]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{"upload-complete"===d.get("message")&&c(!0)},[d]),(0,i.useEffect)(()=>{"authenticated"===r&&s.push("/dashboard")},[r,s]),"loading"===r)?(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"flex min-h-screen flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o&&(0,t.jsx)("div",{className:"mb-6 rounded-md bg-green-50 p-4 border border-green-200",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-green-400"}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Files Uploaded Successfully!"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-green-700",children:"Your bank statements have been uploaded. Please sign in to view your analysis results."})]})]})}),(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),(0,t.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,t.jsx)(a.default,{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,t.jsx)(h,{})})})]})}function v(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),children:(0,t.jsx)(b,{})})}},23005:function(e,r,s){"use strict";s.d(r,{z:function(){return o}});var t=s(27573),a=s(7653),i=s(91028),n=s(65517),l=s(33495);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,r)=>{let{className:s,variant:a,size:n,asChild:o=!1,...c}=e,u=o?i.g7:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:a,size:n,className:s})),ref:r,...c})});o.displayName="Button"},47147:function(e,r,s){"use strict";s.d(r,{I:function(){return n}});var t=s(27573),a=s(7653),i=s(33495);let n=a.forwardRef((e,r)=>{let{className:s,type:a,...n}=e;return(0,t.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:r,...n})});n.displayName="Input"},44669:function(e,r,s){"use strict";s.d(r,{_:function(){return o}});var t=s(27573),a=s(7653),i=s(26202),n=s(65517),l=s(33495);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(i.f,{ref:r,className:(0,l.cn)(d(),s),...a})});o.displayName=i.f.displayName},33495:function(e,r,s){"use strict";s.d(r,{cn:function(){return i}});var t=s(57908),a=s(66290);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.m6)((0,t.W)(r))}},67899:function(e,r,s){"use strict";s.d(r,{Z:function(){return t}});let t=(0,s(59565).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},67754:function(e,r,s){"use strict";var t=s(534);s.o(t,"useParams")&&s.d(r,{useParams:function(){return t.useParams}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})}},function(e){e.O(0,[609,251,117,906,293,286,744],function(){return e(e.s=43111)}),_N_E=e.O()}]);