# Data Models

This section outlines the core **Data Models**. These definitions will serve as the blueprint for both our database schema and the shared TypeScript types used across the frontend and backend, ensuring data consistency throughout the system.

## User

  * **Purpose:** Represents an authenticated user in the system. This model is essential for managing accounts, authentication, and ownership of financial data.
  * **Key Attributes:**
      * `name`: String - The user's display name.
      * `email`: String - The user's unique login email address (indexed).
      * `password`: String - The securely hashed password.
      * `createdAt`, `updatedAt`: Date - Timestamps for record management.
  * **TypeScript Interface:**
    ```typescript
    interface User {
      _id: string;
      name: string;
      email: string;
      createdAt: Date;
      updatedAt: Date;
    }
    ```
  * **Relationships:**
      * A `User` has many `AnalysisReports`.

-----

## AnalysisReport

  * **Purpose:** Stores the results of a financial analysis generated by the Gemini model, linking a user to their specific insights.
  * **Key Attributes:**
      * `userId`: ObjectId - A reference to the owning `User`.
      * `reportTitle`: String - A user-friendly title (e.g., "Analysis for July 2025").
      * `sourceDocumentCount`: Number - The number of files used for this analysis.
      * `generatedData`: Object - The structured JSON output from the Gemini analysis (income, expenses, categories, projections, etc.).
      * `createdAt`: Date - Timestamp when the report was created.
  * **TypeScript Interface:**
    ```typescript
    interface AnalysisReport {
      _id: string;
      userId: string;
      reportTitle: string;
      sourceDocumentCount: number;
      generatedData: {
        totalIncome: number;
        totalExpenses: number;
        // ... other structured analysis data
      };
      createdAt: Date;
    }
    ```
  * **Relationships:**
      * An `AnalysisReport` belongs to one `User`.
